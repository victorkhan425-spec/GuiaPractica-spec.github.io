<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArtÃ­culo</title>

    <link rel="stylesheet" href="estilos.css">
</head>
<body>
<div id="reading-progress"></div>

<header class="header">
    <img src="logo.svg" alt="GuÃ­aPrÃ¡ctica" class="logo">
    <nav>
        <a href="index.html">Inicio</a>
        <a href="contacto.html">Contacto</a>
        <a href="privacidad.html">Privacidad</a>
        <a href="aviso-legal.html">Aviso legal</a>
    </nav>
</header>

<main class="contenido">
    <article id="articulo"></article>
</main>

<footer class="footer">
    Â© 2025 GuÃ­aPrÃ¡ctica
</footer>

<button id="darkToggle" onclick="toggleDarkMode()">ðŸŒ™</button>

<script>
// -------------------- MODO OSCURO --------------------
function aplicarTema() {
    const dark = localStorage.getItem("darkmode");
    if (dark === "true") document.body.classList.add("dark");
}
aplicarTema();
function toggleDarkMode() {
    document.body.classList.toggle("dark");
    localStorage.setItem("darkmode", document.body.classList.contains("dark"));
}

// -------------------- CARGAR ARTÃCULO --------------------
async function cargarArticulo() {
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    const res = await fetch("posts.json");
    const posts = await res.json();

    const articulo = posts.find(p => p.id == id);

    if (!articulo) {
        document.getElementById("articulo").innerHTML = "<h2>ArtÃ­culo no encontrado</h2>";
        return;
    }

    document.title = articulo.titulo;

    document.getElementById("articulo").innerHTML = `
        <h1>${articulo.titulo}</h1>
        <p class="fecha">${articulo.fecha}</p>
        <div>${articulo.contenido}</div>
    `;
}

cargarArticulo();
</script>

</body>
</html>
